# Generated by mruby-cmake-configurator
MRuby::Build.new do |conf|
  if ENV['VisualStudioVersion'] || ENV['VSINSTALLDIR']
    conf.toolchain :visualcpp
  else
    conf.toolchain :gcc
  end

  conf.build_mrbc_exec
  conf.disable_libmruby
  conf.disable_presym
end

MRuby::CrossBuild.new('@MRUBY_CONFIG_NAME@') do |conf|
  conf.toolchain :@MRUBY_CONF_TOOLCHAIN@

  conf.cc do |cc|
    cc.command = "\"@CMAKE_C_COMPILER@\""
    cc.flags = %w(@CMAKE_C_FLAGS@)
  end

  conf.cxx do |cxx|
    cxx.command = "\"@CMAKE_CXX_COMPILER@\""
    cxx.flags = %w(@CMAKE_CXX_FLAGS@)
  end

  conf.archiver do |archiver|
    archiver.command = "\"@CMAKE_AR@\""
  end

  conf.linker do |linker|
    linker.command = "\"@CMAKE_LINKER@\""
    linker.flags = %w(@CMAKE_EXE_LINKER_FLAGS@ @CMAKE_C_STANDARD_LIBRARIES@)
  end

  conf.exts do |exts|
    exts.library = '.a'
  end
@MRUBY_CONF_GEMBOXES@
end
